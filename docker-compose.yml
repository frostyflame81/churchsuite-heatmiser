version: '3.8'
services:
  web:
    build: .
    #ports:
    #  - "5000:5000"
    volumes:
      - .:/app
      - ./config:/config  # Mount the config directory
    environment:
      - OPENWEATHERMAP_API_KEY=704ccf7e71cc1038495a075ff4b61c28
      - OPENWEATHERMAP_CITY=London
      - CHURCHSUITE_URL=https://stgabrielscricklewood.churchsuite.com/-/bookings/f07e7295-bf3f-466c-ad12-84fe5a12e8dd/json
      - PREHEAT_TIME_MINUTES=30
      - DEFAULT_TEMPERATURE=19
      - ECO_TEMPERATURE=12
      - TEMPERATURE_SENSITIVITY=10
      - PREHEAT_ADJUSTMENT_MINUTES_PER_DEGREE=5
      - CONFIG_FILE=/config/config.json
      - LOGGING_LEVEL=DEBUG
      # Neohub Configuration (Example - can be overridden by individual NEOHUB_* variables)
      - NEOHUB_1_NAME="main_church"
      - NEOHUB_1_ADDRESS=10.10.200.14
      - NEOHUB_1_PORT=4243
      - NEOHUB_1_TOKEN=5aee5c07-86e1-4bf4-a23f-2f7af90ab699
      # Neohub 2
      - NEOHUB_2_NAME="church_hall"
      - NEOHUB_2_ADDRESS=heatmiser-hall.ddns.net
      - NEOHUB_2_PORT=4243
      - NEOHUB_2_TOKEN=528185ca-b248-4deb-bb2e-28e620f89162
    restart: unless-stopped
